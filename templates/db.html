{% extends 'layout.html' %}

{% block body %}

<div class="card card-body">
    <h1 class="display-4">Hello, DB!</h1>

    {% with messages = get_flashed_messages()  %}
    {% if messages %}
    {% for message in messages %}
    <div class="alert alert-success alert-dismissible">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        {{ message }}
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}

    <table>
        <thead>
            <tr>
                <td>Id</td>
                <td>Name</td>
                <td>Price</td>
                <td>Operations</td>
            </tr>
        </thead>
        <tbody>
            {% for row in data %}
            <tr>
                <td>{{row[0]}}</td>
                <td>{{row[1]}}</td>
                <td>{{row[2]}}</td>
                <td>
                    <a href="/edit/{{row[0]}}" class="btn btn-secondary">Edit</a>
                    <a href="/delete/{{row[0]}}" class="btn btn-danger btn-delete">Delete</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

</div>


{% endblock %}